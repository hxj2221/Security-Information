(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d2382be"],{fdf0:function(e,t,r){"use strict";r.r(t);var l,a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"addArticle_all"},[e._m(0),r("div",{staticClass:"addArticle_content"},[r("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"100px"}},[r("el-form-item",{attrs:{label:"文章标题"}},[r("el-input",{model:{value:e.ruleForm.title,callback:function(t){e.$set(e.ruleForm,"title",t)},expression:"ruleForm.title"}})],1),r("el-form-item",{attrs:{label:"文章栏目"}},[r("el-cascader",{ref:"unitAreacode",attrs:{options:e.rules.options,props:{expandTrigger:"hover"}},on:{change:e.handleChange}})],1),r("el-form-item",{attrs:{label:"文章摘要"}},[r("el-input",{attrs:{type:"textarea",rows:5},model:{value:e.ruleForm.abstract,callback:function(t){e.$set(e.ruleForm,"abstract",t)},expression:"ruleForm.abstract"}})],1),r("el-form-item",{attrs:{label:"文章详情"}},[r("Tinymce",{on:{onClick:e.onClick}})],1),r("el-form-item",{attrs:{label:"是否置顶",prop:"resource"}},[r("el-radio-group",{model:{value:e.ruleForm.elRadio,callback:function(t){e.$set(e.ruleForm,"elRadio",t)},expression:"ruleForm.elRadio"}},e._l(e.elRadio,(function(t,l){return r("el-radio",{key:l,attrs:{label:t.value}},[e._v(e._s(t.label))])})),1)],1),r("el-form-item",{attrs:{label:"排序",prop:"name"}},[r("el-input",{attrs:{placeholder:"数字越大越靠前，默认0"},model:{value:e.ruleForm.sort,callback:function(t){e.$set(e.ruleForm,"sort",t)},expression:"ruleForm.sort"}})],1),r("el-form-item",{attrs:{label:"文章封面",prop:"name"}},[r("el-upload",{staticClass:"upload-demo",attrs:{action:"imgUrl","on-preview":e.handlePreview,"on-remove":e.handleRemove,"on-change":e.handleChange,"file-list":e.rules.fileList,"list-type":"picture"}},[r("el-button",{attrs:{size:"small",type:"primary"}},[e._v("上传封面")]),r("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v(" 只能上传jpg/png文件，且不超过500kb ")])],1)],1),r("el-form-item",{attrs:{label:"是否可见",prop:"delivery"}},[r("el-switch",{attrs:{"active-value":0,"inactive-value":1,"active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:e.ruleForm.delivery,callback:function(t){e.$set(e.ruleForm,"delivery",t)},expression:"ruleForm.delivery"}})],1)],1)],1),r("div",{staticClass:"addArticle_bottom"},[r("div",{staticClass:"addArticle_bottom_stlye"},[r("el-button",{attrs:{type:"primary",icon:"iconfont el-icon-hospital-passwordbaocun"},on:{click:e.mysubmit}},[e._v("确定 ")]),r("el-button",{attrs:{type:"primary",icon:"iconfont el-icon-hospital-passwordai207"},on:{click:e.myreturn}},[e._v("返回 ")])],1)])])},i=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"addArticle_top"},[r("div",{staticClass:"addArticle_top_div"},[r("h5",[e._v("添加文章")])])])}],o=(r("99af"),r("d81d"),r("4e82"),r("b0c0"),r("2fa7")),s=(r("f005"),r("54db")),n=r("6022"),c={components:{Tinymce:s["a"]},data:function(){return{imgUrl:"http://bt1.wlqqlp.com:8082/api/article/article_eit",elRadio:[{label:"是",value:1},{label:"否",value:0}],id:"",ruleForm:{elRadio:1},rules:{options:[],fileList:[],name:[{required:!0,message:"请输入活动名称",trigger:"blur"},{min:3,max:5,message:"长度在 3 到 5 个字符",trigger:"blur"}],region:[{required:!0,message:"请选择活动区域",trigger:"change"}],date1:[{type:"date",required:!0,message:"请选择日期",trigger:"change"}],date2:[{type:"date",required:!0,message:"请选择时间",trigger:"change"}],type:[{type:"array",required:!0,message:"请至少选择一个活动性质",trigger:"change"}],resource:[{required:!0,message:"请选择活动资源",trigger:"change"}],desc:[{required:!0,message:"请填写活动形式",trigger:"blur"}]}}},methods:(l={handleChange:function(e){this.rules.fileList.push(e)},onClick:function(e){this.ruleForm.details=e}},Object(o["a"])(l,"handleChange",(function(e){this.id=this.$refs["unitAreacode"].getCheckedNodes()[0].value.id})),Object(o["a"])(l,"handleRemove",(function(e,t){})),Object(o["a"])(l,"handlePreview",(function(e){})),Object(o["a"])(l,"handleExceed",(function(e,t){this.$message.warning("当前限制选择 3 个文件，本次选择了 ".concat(e.length," 个文件，共选择了 ").concat(e.length+t.length," 个文件"))})),Object(o["a"])(l,"beforeRemove",(function(e,t){return this.$confirm("确定移除 ".concat(e.name,"？"))})),Object(o["a"])(l,"myreturn",(function(){this.$router.push("/Articlelist")})),Object(o["a"])(l,"mysubmit",(function(){var e=this,t={title:this.ruleForm.title,cid:this.id,abstract:this.ruleForm["abstract"],content:this.ruleForm.details,sort:this.ruleForm.sort,is_top:this.ruleForm.elRadio,state:this.ruleForm.delivery,img_url:this.rules.fileList};n["a"].detailadd(t).then((function(t){20010==t.code&&(e.$message({type:"success",message:t.msg,duration:1500}),e.$router.push("Articlelist"))}))})),l),created:function(){var e=this;n["a"].detailAdd().then((function(t){var r=t.data,l=function e(t){return t.map((function(t){var r=t.id,l=t.title,a=t.pid,i=t._child;return i?{value:{id:r,value:r,pid:a},label:l,children:e(i)}:{value:{id:r,value:r,pid:a},label:l}}))};e.rules.options=l(r)}))}},u=c,d=r("2877"),m=Object(d["a"])(u,a,i,!1,null,"0773c9ea",null);t["default"]=m.exports}}]);