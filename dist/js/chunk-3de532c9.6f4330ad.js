(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3de532c9"],{"2b5a":function(t,e,i){},4744:function(t,e,i){"use strict";var a=i("2b5a"),o=i.n(a);o.a},8311:function(t,e,i){"use strict";var a=i("e51d"),o=i.n(a);o.a},e51d:function(t,e,i){},f4df:function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"powerheadThre"},[i("ul",{staticClass:"list"},[i("li",{staticClass:"stafflist",on:{click:t.staff}},[t._v("员工列表")]),i("li",{staticClass:"departlist",on:{click:t.depart}},[t._v("科室列表")]),i("li",{staticClass:"rolelist",on:{click:t.role}},[t._v("角色列表")]),i("li",{staticClass:"editpowlist",on:{click:t.editpow}},[t._v("编辑权限")])]),i("el-button",{staticClass:"powerAdd",attrs:{type:"primary",size:"medium",icon:"el-icon-circle-plus"},on:{click:t.staffadd}},[t._v("新增 ")])],1)])},o=[],l=(i("6022"),{data:function(){return{all:{},job_number:""}},methods:{staffadd:function(){this.$parent.fathpowadd()},staff:function(){this.$router.push("/Staff")},depart:function(){this.$router.push("/Department")},role:function(){this.$router.push("/Role")},editpow:function(){this.$router.push("/Edit")}}}),s=l,n=(i("4744"),i("2877")),d=Object(n["a"])(s,a,o,!1,null,"f1b496d4",null);e["a"]=d.exports},ffc4:function(t,e,i){"use strict";i.r(e);var a,o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"H-editAll"},[i("headpow"),i("div",{staticClass:"jurisdiction"},[i("el-table",{staticStyle:{"text-align":"center"},attrs:{data:t.tableData,"header-cell-style":t.getRowClass,"max-height":"625","row-key":"id",border:"","tree-props":{children:"_child",hasChildren:"hasChildren",id:"id",title:"title",sort:"sort",icon:"item.icon",name:"name",url:"url"}}},[i("el-table-column",{attrs:{type:"selection",width:"55"}}),i("el-table-column",{attrs:{type:"",width:"55",prop:"sort",label:"排序"}}),i("el-table-column",{staticClass:"aa",staticStyle:{"text-align":"left!important"},attrs:{prop:"title",label:"名称",width:"180"}}),i("el-table-column",{attrs:{prop:"level",label:"等级",width:"180"}}),i("el-table-column",{attrs:{label:"左侧图标"},scopedSlots:t._u([{key:"default",fn:function(t){return[i("i",{class:t.row.icon})]}}])}),i("el-table-column",{attrs:{prop:"name",label:"接口地址"}}),i("el-table-column",{attrs:{prop:"url",label:"前端路由"}}),i("el-table-column",{attrs:{label:"角色状态"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-switch",{attrs:{"active-value":1,"inactive-value":0,"active-color":"#13ce66","inactive-color":"#ff4949"},on:{change:function(i){return t.changeSwitch(i,e.row,e.row.id)}},model:{value:e.row.status,callback:function(i){t.$set(e.row,"status",i)},expression:"scope.row.status"}})]}}])}),i("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-button",{staticClass:"roleEdit",attrs:{type:"text",size:"small"},on:{click:function(i){return t.handleClick(e.row.id)}}},[t._v("添加子级")]),i("el-button",{staticClass:"roleEdit",attrs:{type:"text",size:"small"},on:{click:function(i){return t.handleEdit(e.row.id)}}},[t._v("编辑")]),i("el-button",{staticClass:"roleDel",attrs:{size:"small",type:"text"},on:{click:function(i){return t.delpow(e.row.id)}}},[t._v("删除")])]}}])})],1),i("div",[i("el-dialog",{attrs:{title:"添加权限",visible:t.dialogVisible,width:"width","before-close":t.dialogeditright,"close-on-click-modal":!1},on:{"update:visible":function(e){t.dialogVisible=e}}},[i("el-form",{ref:"editForm",attrs:{"label-width":"80px"}},[i("el-form-item",{staticStyle:{"text-align":"left"},attrs:{prop:"staffName",label:"上级",width:"120"}},[i("el-select",{attrs:{placeholder:"请选择"},on:{change:t.selchang},model:{value:t.selvalue,callback:function(e){t.selvalue=e},expression:"selvalue"}},[i("el-option",{attrs:{label:"作为顶级",value:"0"}}),t._l(t.seldata,(function(e){return[i("el-option",{key:e.id,attrs:{label:e.title,value:e.id}}),e._child?t._l(e._child,(function(t){return i("el-option",{key:t.id,attrs:{label:"|——"+t.title,value:t.id}})})):t._e()]}))],2)],1),i("el-form-item",{attrs:{label:"排序",width:"100"}},[i("el-input",{attrs:{placeholder:"数字越大，排序越小"},model:{value:t.powpx,callback:function(e){t.powpx=e},expression:"powpx"}})],1),i("el-form-item",{staticStyle:{"text-align":"left"},attrs:{label:"状态",width:"100"}},[[i("el-switch",{attrs:{"active-value":1,"inactive-value":0,"active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:t.powstatu,callback:function(e){t.powstatu=e},expression:"powstatu"}})]],2),i("el-form-item",{attrs:{label:"标题",width:"150"}},[i("el-input",{attrs:{"auto-complete":"off"},model:{value:t.powlab,callback:function(e){t.powlab=e},expression:"powlab"}})],1),i("el-form-item",{staticStyle:{"text-align":"left"},attrs:{label:"图标",width:"120"}},[i("el-input",{attrs:{"auto-complete":"off"},model:{value:t.powicon,callback:function(e){t.powicon=e},expression:"powicon"}}),i("a",{staticStyle:{color:"#666ee8","text-decoration":"none","font-size":"10px"},attrs:{href:"https://element.eleme.cn/#/zh-CN/component/icon",target:"_blank"}},[t._v("不了解？"),i("span",[t._v("点此查看图标库")])])],1),i("el-form-item",{attrs:{label:"后端接口",width:"120"}},[i("el-input",{attrs:{"auto-complete":"off"},model:{value:t.powaps,callback:function(e){t.powaps=e},expression:"powaps"}})],1),i("el-form-item",{attrs:{label:"前端路由",width:"120"}},[i("el-input",{attrs:{"auto-complete":"off"},model:{value:t.powweb,callback:function(e){t.powweb=e},expression:"powweb"}})],1)],1),i("div",{attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("取 消")]),i("el-button",{attrs:{type:"primary"},on:{click:t.dialog}},[t._v("确 定")])],1)],1)],1),i("div",[i("el-dialog",{attrs:{title:"编辑权限",visible:t.dialogedit,"close-on-click-modal":!1,width:"width","before-close":t.dialogBeforeCl},on:{"update:visible":function(e){t.dialogedit=e}}},[i("el-form",{ref:"editForm",attrs:{"label-width":"80px"}},[i("el-form-item",{staticStyle:{"text-align":"left"},attrs:{label:"上级",width:"120"}},[i("el-select",{attrs:{placeholder:"请选择",required:""},on:{change:t.selchang},model:{value:t.editselvalue,callback:function(e){t.editselvalue=e},expression:"editselvalue"}},[i("el-option",{attrs:{label:"作为顶级",value:0}}),t._l(t.editseldata,(function(e){return[i("el-option",{key:e.id,attrs:{label:e.title,value:e.id}}),e._child?t._l(e._child,(function(t){return i("el-option",{key:t.id,attrs:{label:"|——"+t.title,value:t.id}})})):t._e()]}))],2)],1),i("el-form-item",{attrs:{label:"排序",width:"100",required:""}},[i("el-input",{attrs:{"auto-complete":"off"},model:{value:t.editpowpx,callback:function(e){t.editpowpx=e},expression:"editpowpx"}})],1),i("el-form-item",{staticStyle:{"text-align":"left"},attrs:{label:"状态",width:"100"}},[[i("el-switch",{attrs:{"active-value":1,"inactive-value":0,"active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:t.editpowstatu,callback:function(e){t.editpowstatu=e},expression:"editpowstatu"}})]],2),i("el-form-item",{attrs:{label:"标题",width:"150",required:""}},[i("el-input",{attrs:{"auto-complete":"off"},model:{value:t.editpowlab,callback:function(e){t.editpowlab=e},expression:"editpowlab"}})],1),i("el-form-item",{staticStyle:{"text-align":"left"},attrs:{label:"图标",width:"120",required:""}},[i("el-input",{attrs:{"auto-complete":"off"},model:{value:t.editpowicon,callback:function(e){t.editpowicon=e},expression:"editpowicon"}}),i("a",{staticStyle:{color:"#666ee8","text-decoration":"none","font-size":"10px"},attrs:{href:"https://element.eleme.cn/#/zh-CN/component/icon",target:"_blank"}},[t._v("不了解？"),i("span",[t._v("点此查看图标库")])])],1),i("el-form-item",{attrs:{label:"后端接口",width:"120",required:""}},[i("el-input",{attrs:{"auto-complete":"off"},model:{value:t.editpowaps,callback:function(e){t.editpowaps=e},expression:"editpowaps"}})],1),i("el-form-item",{attrs:{label:"前端路由",width:"120",required:""}},[i("el-input",{attrs:{"auto-complete":"off"},model:{value:t.editpowweb,callback:function(e){t.editpowweb=e},expression:"editpowweb"}})],1)],1),i("div",{attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(e){t.dialogedit=!1}}},[t._v("取 消")]),i("el-button",{attrs:{type:"primary"},on:{click:t.editdialog}},[t._v("确 定")])],1)],1)],1)],1)],1)])},l=[],s=(i("4e82"),i("b0c0"),i("4795"),i("2fa7")),n=i("f4df"),d=i("6022"),c={components:{headpow:n["a"]},inject:["reload"],data:function(){return{name:"",dialogaddson:!1,editid:"",addsonseldata:[],addsonselvalue:2,addsonpowpx:"",addsonpowstatu:"",addsonpowlab:"",addsonpowicon:"",addsonpowaps:"",addsonpowweb:"",addsonid:"",tableData:[],dialogVisible:!1,selvalue:"0",seldata:[],powpx:"",powstatu:1,powlab:"",powicon:"",powaps:"",powweb:"",dialogedit:!1,editselvalue:2,editseldata:[],editpowpx:"",editpowstatu:"",editpowlab:"",editpowicon:"",editpowaps:"",editpowweb:""}},created:function(){var t=this;d["a"].rulelist().then((function(e){t.tableData=e.data}))},methods:(a={selchang:function(){},dialog:function(){var t=this,e={sort:this.powpx,status:this.powstatu,title:this.powlab,icon:this.powicon,pid:this.selvalue,name:this.powaps,url:this.powweb};d["a"].savepower(e).then((function(e){20010==e.code&&(t.$message({message:e.msg,type:"success",duration:1e3}),t.$router.go(0))}))},dialogBeforeCl:function(){this.dialogedit=!1},changeSwitch:function(t,e,i){var a=this;this.$confirm("此操作将修改状态, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var t={id:i,status:e.status};d["a"].powstatus(t).then((function(t){a.$message({type:"success",message:t.msg,duration:1e3}),a.$router.go(0)}))}))["catch"]((function(){1==e.status?e.status=0:e.status=1,a.$message({type:"info",message:"已取消操作",duration:1e3})}))},handleEdit:function(t){var e=this;this.dialogedit=!0;var i={id:t};d["a"].getpowid(i).then((function(t){e.editseldata=t.data.lists,e.editselvalue=t.data.info.pid,e.editpowpx=t.data.info.sort,e.editpowstatu=t.data.info.status,e.editpowlab=t.data.info.title,e.editpowicon=t.data.info.icon,e.editpowaps=t.data.info.name,e.editid=t.data.info.id,e.editpowweb=t.data.info.url}))},editdialog:function(){var t=this,e={sort:this.editpowpx,status:this.editpowstatu,name:this.editpowaps,icon:this.editpowicon,title:this.editpowlab,pid:this.editselvalue,id:this.editid,url:this.editpowweb};d["a"].editsavepower(e).then((function(e){20010==e.code&&(t.$message({message:"保存成功！",type:"success",duration:2e3}),setTimeout((function(){t.$router.go(0)}),1e3))}))},fathpowadd:function(){var t=this;this.dialogVisible=!0,this.selvalue="0",d["a"].addpower().then((function(e){t.seldata=e.data}))},dialogeditright:function(){this.dialogVisible=!1},handleClick:function(t){var e=this;this.dialogVisible=!0;var i={id:t};d["a"].addpower().then((function(t){e.seldata=t.data})),d["a"].getpowid(i).then((function(t){e.addsonseldata=t.data.lists,e.addsonselvalue=t.data.info.pid,e.selvalue=t.data.info.id}))},addsondialog:function(){var t=this,e={sort:this.addsonpowpx,status:this.addsonpowstatu,name:this.addsonpowaps,icon:this.addsonpowicon,title:this.addsonpowlab,pid:this.addsonselvalue,id:this.addsonid,url:this.addsonpowweb};d["a"].savepower(e).then((function(e){20010==e.code&&(t.$message({message:e.msg,type:"success",duration:1e3}),t.$router.go(0))}))}},Object(s["a"])(a,"handleEdit",(function(t){var e=this;this.dialogedit=!0;var i={id:t};d["a"].getpowid(i).then((function(t){e.editseldata=t.data.lists,e.editselvalue=t.data.info.pid,e.editpowpx=t.data.info.sort,e.editpowstatu=t.data.info.status,e.editpowlab=t.data.info.title,e.editpowicon=t.data.info.icon,e.editpowaps=t.data.info.name,e.editid=t.data.info.id,e.editpowweb=t.data.info.url}))})),Object(s["a"])(a,"editdialog",(function(){var t=this,e={sort:this.editpowpx,status:this.editpowstatu,name:this.editpowaps,icon:this.editpowicon,title:this.editpowlab,pid:this.editselvalue,id:this.editid,url:this.editpowweb};d["a"].editsavepower(e).then((function(e){20010==e.code&&(t.$message({message:"保存成功！",type:"success",duration:2e3}),setTimeout((function(){t.$router.go(0)}),1e3))}))})),Object(s["a"])(a,"delpow",(function(t){var e=this;this.$confirm("此操作将删除该权限, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var i={id:t};d["a"].delpow(i).then((function(t){e.$message({type:"success",message:t.msg,duration:1500}),setTimeout((function(){e.$router.go(0)}),2e3)}))}))["catch"]((function(){e.$message({type:"info",message:"已取消操作",duration:1300})}))})),Object(s["a"])(a,"getRowClass",(function(t){var e=t.rowIndex;return 0==e?"background:#c2c5f6;color:#000":""})),a)},r=c,u=(i("8311"),i("2877")),p=Object(u["a"])(r,o,l,!1,null,"06828387",null);e["default"]=p.exports}}]);