(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-de1140f2"],{"03f2":function(t,e,a){},"2aba":function(t,e,a){},"2e69":function(t,e,a){"use strict";var l=a("aa96"),i=a.n(l);i.a},"61f0":function(t,e,a){"use strict";var l=a("2aba"),i=a.n(l);i.a},"7c8c":function(t,e,a){"use strict";var l=a("a36e"),i=a.n(l);i.a},9469:function(t,e,a){"use strict";a.r(e);var l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.rolevue?a("div",{staticClass:"rolealBg"},[a("headpow"),a("div",{staticClass:"roleIptsech"},[a("el-input",{staticClass:"roleNameIpt",attrs:{placeholder:"请输入角色名称",clearable:""},on:{clear:t.delValue},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),a("el-button",{staticClass:"roleNamesch",attrs:{type:"primary",icon:"el-icon-search"},on:{click:function(e){return t.roleserch()}}})],1),a("div",{staticClass:"roleTable"},[a("el-table",{attrs:{"max-height":"550",data:t.tables,"tooltip-effect":"dark","header-cell-style":{background:"#C2C5F6",color:"#000"},"cell-style":{background:"#fff"}}},[a("el-table-column",{attrs:{width:"50px",label:"序号",type:"index"}}),a("el-table-column",{attrs:{prop:"sort",label:"角色排序"}}),a("el-table-column",{attrs:{prop:"title",label:"角色名称"}}),a("el-table-column",{attrs:{prop:"number",label:"员工数量"}}),a("el-table-column",{attrs:{prop:"user.name",label:"修改人员"}}),a("el-table-column",{attrs:{width:"240px",prop:"create_time",label:"修改时间"}}),a("el-table-column",{attrs:{label:"角色状态"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-switch",{attrs:{"active-value":1,"inactive-value":0,"active-color":"#13ce66","inactive-color":"#ff4949"},on:{change:function(a){return t.changeSwitch(a,e.row,e.row.id)}},model:{value:e.row.status,callback:function(a){t.$set(e.row,"status",a)},expression:"scope.row.status"}})]}}],null,!1,1204060852)},[t._v(" >")]),a("el-table-column",{attrs:{fixed:"right",label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{staticClass:"roleEdit",attrs:{type:"text",size:"small"},on:{click:function(a){return t.handleEdit(e.row.id)}}},[t._v("编辑")]),a("el-button",{staticClass:"roleDel",attrs:{size:"small",type:"text"},on:{click:function(a){return t.delrole(e.row.id)}}},[t._v("删除")])]}}],null,!1,3586161833)})],1)],1),a("div",{staticClass:"rolepag"},[a("div",{staticClass:"block"},[a("el-pagination",{attrs:{"current-page":t.currentPage,"page-sizes":t.nums,"page-size":t.num,layout:"total, sizes, prev, pager, next, jumper",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)])],1):t._e(),a("addrole",{directives:[{name:"show",rawName:"v-show",value:t.addrole,expression:"addrole"}],attrs:{listaddchild:t.addchild}}),a("editrole",{directives:[{name:"show",rawName:"v-show",value:t.editshow,expression:"editshow"}],attrs:{editchid:t.childedit}})],1)},i=[],s=(a("ac1f"),a("841c"),a("4795"),a("f4df")),c=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"addrole"},[a("div",{staticClass:"roleaddThre"},[a("span",{staticClass:"roleaddSpan"},[t._v("新增角色信息")]),a("div",[a("el-button",{staticClass:"roleaddgr",attrs:{type:"primary",icon:"iconfont el-icon-hospital-passwordbaocun"},on:{click:t.roleaddvueyes}},[t._v("保存 ")]),a("el-button",{staticClass:"roleaddb",attrs:{type:"primary",icon:"iconfont el-icon-hospital-passwordai207"},on:{click:t.roleaddvueno}},[t._v("返回 ")])],1)]),a("div",{staticClass:"addmain"},[a("el-form",{ref:"form"},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"角色编号",disabled:""}},[a("el-input",{staticClass:"dialog-input-text",attrs:{type:"input",autosize:"",placeholder:"10001",disabled:""}})],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"角色名称",required:""}},[a("el-input",{staticClass:"dialog-input-text",attrs:{type:"input",autosize:""},model:{value:t.roleNameipt,callback:function(e){t.roleNameipt=e},expression:"roleNameipt"}})],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{staticStyle:{"margin-top":"40px"},attrs:{label:"角色状态"}},[a("el-switch",{attrs:{"active-value":1,"inactive-value":0,"active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:t.valuestatus,callback:function(e){t.valuestatus=e},expression:"valuestatus"}})],1)],1),a("el-col",{attrs:{span:6}})],1),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"角色描述",required:""}},[a("el-input",{staticClass:"dialog-input-text",attrs:{type:"input",autosize:"",placeholder:"请输入内容"},model:{value:t.rolecreate,callback:function(e){t.rolecreate=e},expression:"rolecreate"}})],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"排序",required:""}},[a("el-input",{staticClass:"dialog-input-text",attrs:{type:"input",autosize:"",placeholder:"数字越小,排序越高"},model:{value:t.px,callback:function(e){t.px=e},expression:"px"}})],1)],1),a("el-col",{attrs:{span:6}})],1)],1)],1),a("div",[a("p",{staticStyle:{display:"flex","margin-left":"40px","font-size":"20px",color:"#858bed","font-weight":"bold"}},[t._v(" 查看权限 ")]),a("div",{staticClass:"role_div"},[a("el-radio-group",{on:{change:t.radiochange},model:{value:t.radio,callback:function(e){t.radio=e},expression:"radio"}},[a("el-radio",{attrs:{label:2}},[t._v("本科室")]),a("el-radio",{attrs:{label:1}},[t._v("全部")])],1)],1)]),a("div",{staticStyle:{"min-height":"510px"}},[a("p",{staticStyle:{display:"flex","margin-left":"40px","font-size":"20px",color:"#858bed","font-weight":"bold"}},[t._v(" 权限分配 ")]),a("div",{staticClass:"roleFs"},[a("div",{staticClass:"H-edit"},t._l(t.powlist,(function(e){return a("div",{key:e.id,staticClass:"content",attrs:{label:e.id}},[a("div",{staticClass:"title"},[a("el-checkbox",{attrs:{label:e.id},on:{change:t.fcheckchange},model:{value:t.fcheck,callback:function(e){t.fcheck=e},expression:"fcheck"}},[t._v(t._s(e.title))])],1),t._l(e._child,(function(e){return a("div",{key:e.id,staticClass:"power",attrs:{label:e.id}},[a("el-checkbox",{staticClass:"tit",attrs:{label:e.id},on:{change:t.vcheckchange},model:{value:t.vcheck,callback:function(e){t.vcheck=e},expression:"vcheck"}},[t._v(t._s(e.title))]),a("el-checkbox-group",{on:{change:function(e){return t.checkchange(e)}},model:{value:t.checkList,callback:function(e){t.checkList=e},expression:"checkList"}},t._l(e._child,(function(e,l){return a("el-checkbox",{key:l,attrs:{label:e.id}},[t._v(t._s(e.title))])})),1)],1)}))],2)})),0)])])])},o=[],n=a("6022"),r={props:["listaddchild"],inject:["reload"],data:function(){return{radio:1,rolecreate:"",roleNameipt:"",valuestatus:1,name:"",checkList:[],fcheck:[],vcheck:[],dialogVisible:!1,powlist:[],px:""}},radiochange:function(){},watch:{listaddchild:function(t){this.powlist=t.data}},methods:{checkchange:function(){event.target.checked},vcheckchange:function(){},fcheckchange:function(){},roleaddvueyes:function(){var t=this,e={title:this.roleNameipt,status:this.valuestatus,describe:this.rolecreate,sort:this.px,rules:this.checkList+","+this.vcheck+","+this.fcheck,data_rule:this.radio};n["a"].roleadd(e).then((function(e){if("20010"==e.code){var a=t.$loading({lock:!0,text:"保存中",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});setTimeout((function(){a.close(),t.reload()}),2e3),t.$parent.fathroleyes()}}))},radiochange:function(){},roleaddvueno:function(){this.$parent.fathroleno()},changesonc:function(t){}}},u=r,d=(a("2e69"),a("2877")),h=Object(d["a"])(u,c,o,!1,null,"538b6756",null),p=h.exports,f=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"addrole"},[a("div",{staticClass:"roleaddThre"},[a("span",{staticClass:"roleaddSpan"},[t._v("编辑角色信息")]),a("div",[a("el-button",{staticClass:"roleaddgr",attrs:{icon:"iconfont el-icon-hospital-passwordbaocun"},on:{click:t.roleaddvueyes}},[t._v("保存")]),a("el-button",{staticClass:"roleaddb",attrs:{icon:"iconfont el-icon-hospital-passwordai207"},on:{click:t.roleaddvueno}},[t._v("返回")])],1)]),a("div",{staticClass:"addmain"},[a("el-form",{ref:"form"},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"角色编号",disabled:""}},[a("el-input",{staticClass:"dialog-input-text",attrs:{type:"input",autosize:"",placeholder:"10001"}})],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"角色名称",required:""}},[a("el-input",{staticClass:"dialog-input-text",attrs:{type:"input",autosize:""},model:{value:t.roleNameipt,callback:function(e){t.roleNameipt=e},expression:"roleNameipt"}})],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{staticStyle:{"margin-top":"40px"},attrs:{label:"角色状态"}},[a("el-switch",{attrs:{"active-value":1,"inactive-value":0,"active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:t.valuestatus,callback:function(e){t.valuestatus=e},expression:"valuestatus"}})],1)],1),a("el-col",{attrs:{span:6}})],1),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"角色描述",required:""}},[a("el-input",{staticClass:"dialog-input-text",attrs:{type:"input",autosize:"",placeholder:"请输入内容"},model:{value:t.rolems,callback:function(e){t.rolems=e},expression:"rolems"}})],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"角色排序",required:""}},[a("el-input",{staticClass:"dialog-input-text",attrs:{type:"input",autosize:"",placeholder:"请输入内容"},model:{value:t.px,callback:function(e){t.px=e},expression:"px"}})],1)],1),a("el-col",{attrs:{span:6}})],1)],1)],1),a("div",{staticStyle:{"margin-top":"10px"}},[a("p",{staticStyle:{display:"flex","margin-left":"40px","font-size":"20px",color:"#858bed","font-weight":"bold"}},[t._v(" 查看权限 ")]),a("div",{staticClass:"role_div",staticStyle:{"text-align":"left",margin:"10px 70px"}},[a("el-radio-group",{on:{change:t.radiochange},model:{value:t.radio,callback:function(e){t.radio=e},expression:"radio"}},[a("el-radio",{attrs:{label:2}},[t._v("本科室")]),a("el-radio",{attrs:{label:1}},[t._v("全部")])],1)],1)]),a("div",{staticStyle:{"min-height":"490px"}},[a("p",{staticStyle:{display:"flex","margin-left":"40px","font-size":"20px",color:"#858bed","font-weight":"bold"}},[t._v(" 权限分配 ")]),a("div",{staticClass:"roleFs"},[a("div",{staticClass:"H-edit"},t._l(t.powlist,(function(e){return a("div",{key:e.id,staticClass:"content",attrs:{label:e.id}},[a("div",{staticClass:"title"},[a("el-checkbox",{attrs:{label:e.id,checked:e.checked},on:{change:t.fcheckchange},model:{value:t.fcheck,callback:function(e){t.fcheck=e},expression:"fcheck"}},[t._v(t._s(e.title)+" ")])],1),t._l(e._child,(function(e){return a("div",{key:e.id,staticClass:"power",attrs:{label:e.id}},[a("el-checkbox",{staticClass:"tit",attrs:{label:e.id,checked:e.checked},on:{change:t.vcheckchange},model:{value:t.vcheck,callback:function(e){t.vcheck=e},expression:"vcheck"}},[t._v(t._s(e.title))]),a("el-checkbox-group",{on:{change:t.checkchange},model:{value:t.checkList,callback:function(e){t.checkList=e},expression:"checkList"}},t._l(e._child,(function(e,l){return a("el-checkbox",{key:l,attrs:{label:e.id,checked:e.checked}},[t._v(t._s(e.title))])})),1)],1)}))],2)})),0)])])])},v=[],m=(a("4e82"),{props:["editchid"],inject:["reload"],data:function(){return{radio:"",cc:0,rolems:"",px:"",roleNameipt:"",valuestatus:0,jkid:"",name:"",checked:!1,checkList:[],fcheck:[],vcheck:[],dialogVisible:!1,powlist:[]}},watch:{editchid:function(t){this.roleNameipt=t.info.title,this.rolems=t.info.describe,this.px=t.info.sort,this.valuestatus=t.info.status,this.jkid=t.info.id,this.powlist=t.rule,this.radio=t.info.data_rule}},methods:{checkchange:function(){},vcheckchange:function(){},fcheckchange:function(){},roleaddvueyes:function(){var t=this,e={title:this.roleNameipt,status:this.valuestatus,describe:this.rolems,id:this.jkid,rules:this.checkList+","+this.vcheck+","+this.fcheck,data_rule:this.radio,sort:this.px};n["a"].roleeditsqve(e).then((function(e){20010==e.code&&(t.$message({message:"保存成功！",type:"success",duration:2e3}),setTimeout((function(){t.reload()}),2e3))}))},radiochange:function(){},roleaddvueno:function(){this.$parent.fathroleno()},changesonc:function(t){}}}),b=m,g=(a("7c8c"),Object(d["a"])(b,f,v,!1,null,"3576aaaf",null)),k=g.exports,x={components:{headpow:s["a"],addrole:p,editrole:k},inject:["reload"],data:function(){return{rolevue:!0,addrole:!1,editshow:!1,tables:[],currentRow:[],dormitory:[],search:"",childedit:[],currentPage:1,total:0,page:1,pageSize:5,nums:[8,10,20],num:8,tables1:[],addchild:[]}},created:function(){var t=this;n["a"].rolelist().then((function(e){t.tables=e.data,t.total=e.allNews}))},methods:{fathpowadd:function(){var t=this;this.rolevue=!1,this.addrole=!0,n["a"].rolepowlist().then((function(e){t.addchild=e}))},fathroleyes:function(){var t=this;setTimeout((function(){t.addrole=!1,t.editshow=!1,t.rolevue=!0}),3e3)},fathroleno:function(){this.addrole=!1,this.editshow=!1,this.rolevue=!0},roleserch:function(){var t=this,e={title:this.search,pageSize:this.num,pageNum:this.currentPage};n["a"].roleserch(e).then((function(e){t.tables=t.tables1=e.data,t.total=e.allNews}))},changeSwitch:function(t,e,a){var l=this;this.$confirm("此操作将修改状态, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var t={id:a,status:e.status};n["a"].rolestatus(t).then((function(t){l.$message({type:"success",message:t.msg,duration:1500}),l.reload()}))}))["catch"]((function(){1==e.status?e.status=0:e.status=1,l.$message({type:"info",message:"已取消操作",duration:1300})}))},handleEdit:function(t){var e=this;this.rolevue=!1,this.editshow=!0;var a={id:t};n["a"].roleedit(a).then((function(t){e.childedit=t}))},delrole:function(t){var e=this;this.$confirm("此操作将删除该角色, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var a={id:t};n["a"].roledel(a).then((function(t){e.$message({type:"success",message:t.msg,duration:1500}),setTimeout((function(){e.reload()}),2e3)}))}))["catch"]((function(){e.$message({type:"info",message:"已取消操作",duration:1300})}))},handleSizeChange:function(t){var e=this;this.num=t;var a={pageSize:this.num,pageNum:this.currentPage,title:this.search};n["a"].rolelist(a).then((function(t){e.tables=t.data,e.total=t.allNews}))},handleCurrentChange:function(t){var e=this;this.currentPage=t;var a={pageSize:this.num,pageNum:this.currentPage,title:this.search};n["a"].rolelist(a).then((function(t){e.tables=t.data}))},delValue:function(){var t=this,e={title:this.search,pageSize:this.num,pageNum:this.currentPage};n["a"].roleserch(e).then((function(e){t.tables=t.tables1=e.data,t.total=e.allNews}))}}},w=x,_=(a("dae4"),Object(d["a"])(w,l,i,!1,null,null,null));e["default"]=_.exports},a36e:function(t,e,a){},aa96:function(t,e,a){},dae4:function(t,e,a){"use strict";var l=a("03f2"),i=a.n(l);i.a},f4df:function(t,e,a){"use strict";var l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"powerheadThre"},[a("ul",{staticClass:"list"},[a("li",{staticClass:"stafflist",on:{click:t.staff}},[t._v("员工列表")]),a("li",{staticClass:"departlist",on:{click:t.depart}},[t._v("科室列表")]),a("li",{staticClass:"rolelist",on:{click:t.role}},[t._v("角色列表")]),a("li",{staticClass:"editpowlist",on:{click:t.editpow}},[t._v("编辑权限")])]),a("el-button",{staticClass:"powerAdd",attrs:{type:"primary",size:"medium",icon:"el-icon-circle-plus"},on:{click:t.staffadd}},[t._v("新增 ")])],1)])},i=[],s=a("6022"),c={data:function(){return{all:{},job_number:""}},methods:{staffadd:function(){var t=this;s["a"].getrole().then((function(e){console.log(e),t.all=e.data,t.bus.$emit("ReceiveMessage",t.all),t.$parent.fathpowadd()}))},staff:function(){this.$router.push("/Staff")},depart:function(){this.$router.push("/Department")},role:function(){this.$router.push("/Role")},editpow:function(){this.$router.push("/Edit")}}},o=c,n=(a("61f0"),a("2877")),r=Object(n["a"])(o,l,i,!1,null,"455f6a77",null);e["a"]=r.exports}}]);