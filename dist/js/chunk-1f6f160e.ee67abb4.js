(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1f6f160e"],{"289a":function(t,e,a){"use strict";var i=a("d987"),o=a.n(i);o.a},"2aba":function(t,e,a){},"61f0":function(t,e,a){"use strict";var i=a("2aba"),o=a.n(i);o.a},d987:function(t,e,a){},f4df:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"powerheadThre"},[a("ul",{staticClass:"list"},[a("li",{staticClass:"stafflist",on:{click:t.staff}},[t._v("员工列表")]),a("li",{staticClass:"departlist",on:{click:t.depart}},[t._v("科室列表")]),a("li",{staticClass:"rolelist",on:{click:t.role}},[t._v("角色列表")]),a("li",{staticClass:"editpowlist",on:{click:t.editpow}},[t._v("编辑权限")])]),a("el-button",{staticClass:"powerAdd",attrs:{type:"primary",size:"medium",icon:"el-icon-circle-plus"},on:{click:t.staffadd}},[t._v("新增 ")])],1)])},o=[],l=a("6022"),s={data:function(){return{all:{},job_number:""}},methods:{staffadd:function(){var t=this;l["a"].getrole().then((function(e){console.log(e),t.all=e.data,t.bus.$emit("ReceiveMessage",t.all),t.$parent.fathpowadd()}))},staff:function(){this.$router.push("/Staff")},depart:function(){this.$router.push("/Department")},role:function(){this.$router.push("/Role")},editpow:function(){this.$router.push("/Edit")}}},n=s,d=(a("61f0"),a("2877")),c=Object(d["a"])(n,i,o,!1,null,"455f6a77",null);e["a"]=c.exports},ffc4:function(t,e,a){"use strict";a.r(e);var i,o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"H-editAll"},[a("headpow"),a("div",{staticClass:"jurisdiction"},[a("el-table",{staticStyle:{"text-align":"center"},attrs:{data:t.tableData,"header-cell-style":t.getRowClass,"max-height":"625","row-key":"id",border:"","tree-props":{children:"_child",hasChildren:"hasChildren",id:"id",title:"title",sort:"sort",icon:"item.icon",name:"name",url:"url"}}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),a("el-table-column",{attrs:{type:"",width:"55",prop:"sort",label:"排序"}}),a("el-table-column",{staticClass:"aa",staticStyle:{"text-align":"left!important"},attrs:{prop:"title",label:"名称",width:"180"}}),a("el-table-column",{attrs:{prop:"level",label:"等级",width:"180"}}),a("el-table-column",{attrs:{label:"左侧图标"},scopedSlots:t._u([{key:"default",fn:function(t){return[a("i",{class:t.row.icon})]}}])}),a("el-table-column",{attrs:{prop:"name",label:"接口地址"}}),a("el-table-column",{attrs:{prop:"url",label:"前端路由"}}),a("el-table-column",{attrs:{label:"角色状态"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-switch",{attrs:{"active-value":1,"inactive-value":0,"active-color":"#13ce66","inactive-color":"#ff4949"},on:{change:function(a){return t.changeSwitch(a,e.row,e.row.id)}},model:{value:e.row.status,callback:function(a){t.$set(e.row,"status",a)},expression:"scope.row.status"}})]}}])}),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{staticClass:"roleEdit",attrs:{type:"text",size:"small"},on:{click:function(a){return t.handleClick(e.row.id)}}},[t._v("添加子级")]),a("el-button",{staticClass:"roleEdit",attrs:{type:"text",size:"small"},on:{click:function(a){return t.handleEdit(e.row.id)}}},[t._v("编辑")]),a("el-button",{staticClass:"roleDel",attrs:{size:"small",type:"text"},on:{click:function(a){return t.delpow(e.row.id)}}},[t._v("删除")])]}}])})],1),a("div",[a("el-dialog",{attrs:{title:"添加权限",visible:t.dialogVisible,width:"width","before-close":t.dialogeditright,"close-on-click-modal":!1},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("el-form",{ref:"editForm",attrs:{"label-width":"80px"}},[a("el-form-item",{staticStyle:{"text-align":"left"},attrs:{prop:"staffName",label:"上级",width:"120"}},[a("el-select",{attrs:{placeholder:"请选择"},on:{change:t.selchang},model:{value:t.selvalue,callback:function(e){t.selvalue=e},expression:"selvalue"}},[a("el-option",{attrs:{label:"作为顶级",value:"0"}}),t._l(t.seldata,(function(e){return[a("el-option",{key:e.id,attrs:{label:e.title,value:e.id}}),e._child?t._l(e._child,(function(t){return a("el-option",{key:t.id,attrs:{label:"|——"+t.title,value:t.id}})})):t._e()]}))],2)],1),a("el-form-item",{attrs:{label:"排序",width:"100"}},[a("el-input",{attrs:{placeholder:"数字越大，排序越小"},model:{value:t.powpx,callback:function(e){t.powpx=e},expression:"powpx"}})],1),a("el-form-item",{staticStyle:{"text-align":"left"},attrs:{label:"状态",width:"100"}},[[a("el-switch",{attrs:{"active-value":1,"inactive-value":0,"active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:t.powstatu,callback:function(e){t.powstatu=e},expression:"powstatu"}})]],2),a("el-form-item",{attrs:{label:"标题",width:"150"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:t.powlab,callback:function(e){t.powlab=e},expression:"powlab"}})],1),a("el-form-item",{staticStyle:{"text-align":"left"},attrs:{label:"图标",width:"120"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:t.powicon,callback:function(e){t.powicon=e},expression:"powicon"}}),a("a",{staticStyle:{color:"#666ee8","text-decoration":"none","font-size":"10px"},attrs:{href:"https://element.eleme.cn/#/zh-CN/component/icon",target:"_blank"}},[t._v("不了解？"),a("span",[t._v("点此查看图标库")])])],1),a("el-form-item",{attrs:{label:"后端接口",width:"120"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:t.powaps,callback:function(e){t.powaps=e},expression:"powaps"}})],1),a("el-form-item",{attrs:{label:"前端路由",width:"120"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:t.powweb,callback:function(e){t.powweb=e},expression:"powweb"}})],1)],1),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.dialog}},[t._v("确 定")])],1)],1)],1),a("div",[a("el-dialog",{attrs:{title:"编辑权限",visible:t.dialogedit,"close-on-click-modal":!1,width:"width","before-close":t.dialogBeforeCl},on:{"update:visible":function(e){t.dialogedit=e}}},[a("el-form",{ref:"editForm",attrs:{"label-width":"80px"}},[a("el-form-item",{staticStyle:{"text-align":"left"},attrs:{label:"上级",width:"120"}},[a("el-select",{attrs:{placeholder:"请选择",required:""},on:{change:t.selchang},model:{value:t.editselvalue,callback:function(e){t.editselvalue=e},expression:"editselvalue"}},[a("el-option",{attrs:{label:"作为顶级",value:0}}),t._l(t.editseldata,(function(e){return[a("el-option",{key:e.id,attrs:{label:e.title,value:e.id}}),e._child?t._l(e._child,(function(t){return a("el-option",{key:t.id,attrs:{label:"|——"+t.title,value:t.id}})})):t._e()]}))],2)],1),a("el-form-item",{attrs:{label:"排序",width:"100",required:""}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:t.editpowpx,callback:function(e){t.editpowpx=e},expression:"editpowpx"}})],1),a("el-form-item",{staticStyle:{"text-align":"left"},attrs:{label:"状态",width:"100"}},[[a("el-switch",{attrs:{"active-value":1,"inactive-value":0,"active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:t.editpowstatu,callback:function(e){t.editpowstatu=e},expression:"editpowstatu"}})]],2),a("el-form-item",{attrs:{label:"标题",width:"150",required:""}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:t.editpowlab,callback:function(e){t.editpowlab=e},expression:"editpowlab"}})],1),a("el-form-item",{staticStyle:{"text-align":"left"},attrs:{label:"图标",width:"120",required:""}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:t.editpowicon,callback:function(e){t.editpowicon=e},expression:"editpowicon"}}),a("a",{staticStyle:{color:"#666ee8","text-decoration":"none","font-size":"10px"},attrs:{href:"https://element.eleme.cn/#/zh-CN/component/icon",target:"_blank"}},[t._v("不了解？"),a("span",[t._v("点此查看图标库")])])],1),a("el-form-item",{attrs:{label:"后端接口",width:"120",required:""}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:t.editpowaps,callback:function(e){t.editpowaps=e},expression:"editpowaps"}})],1),a("el-form-item",{attrs:{label:"前端路由",width:"120",required:""}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:t.editpowweb,callback:function(e){t.editpowweb=e},expression:"editpowweb"}})],1)],1),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogedit=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.editdialog}},[t._v("确 定")])],1)],1)],1)],1)],1)])},l=[],s=(a("4e82"),a("b0c0"),a("4795"),a("2fa7")),n=a("f4df"),d=a("6022"),c={components:{headpow:n["a"]},inject:["reload"],data:function(){return{name:"",dialogaddson:!1,editid:"",addsonseldata:[],addsonselvalue:2,addsonpowpx:"",addsonpowstatu:"",addsonpowlab:"",addsonpowicon:"",addsonpowaps:"",addsonpowweb:"",addsonid:"",tableData:[],dialogVisible:!1,selvalue:"0",seldata:[],powpx:"",powstatu:1,powlab:"",powicon:"",powaps:"",powweb:"",dialogedit:!1,editselvalue:2,editseldata:[],editpowpx:"",editpowstatu:"",editpowlab:"",editpowicon:"",editpowaps:"",editpowweb:""}},created:function(){var t=this;d["a"].rulelist().then((function(e){t.tableData=e.data}))},methods:(i={selchang:function(){},dialog:function(){var t=this,e={sort:this.powpx,status:this.powstatu,title:this.powlab,icon:this.powicon,pid:this.selvalue,name:this.powaps,url:this.powweb};d["a"].savepower(e).then((function(e){20010==e.code&&(t.$message({message:e.msg,type:"success",duration:1e3}),t.$router.go(0))}))},dialogBeforeCl:function(){this.dialogedit=!1},changeSwitch:function(t,e,a){var i=this;this.$confirm("此操作将修改状态, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var t={id:a,status:e.status};d["a"].powstatus(t).then((function(t){i.$message({type:"success",message:t.msg,duration:1e3}),i.$router.go(0)}))}))["catch"]((function(){1==e.status?e.status=0:e.status=1,i.$message({type:"info",message:"已取消操作",duration:1e3})}))},handleEdit:function(t){var e=this;this.dialogedit=!0;var a={id:t};d["a"].getpowid(a).then((function(t){e.editseldata=t.data.lists,e.editselvalue=t.data.info.pid,e.editpowpx=t.data.info.sort,e.editpowstatu=t.data.info.status,e.editpowlab=t.data.info.title,e.editpowicon=t.data.info.icon,e.editpowaps=t.data.info.name,e.editid=t.data.info.id,e.editpowweb=t.data.info.url}))},editdialog:function(){var t=this,e={sort:this.editpowpx,status:this.editpowstatu,name:this.editpowaps,icon:this.editpowicon,title:this.editpowlab,pid:this.editselvalue,id:this.editid,url:this.editpowweb};d["a"].editsavepower(e).then((function(e){20010==e.code&&(t.$message({message:"保存成功！",type:"success",duration:2e3}),setTimeout((function(){t.$router.go(0)}),1e3))}))},fathpowadd:function(){var t=this;this.dialogVisible=!0,this.selvalue="0",d["a"].addpower().then((function(e){t.seldata=e.data}))},dialogeditright:function(){this.dialogVisible=!1},handleClick:function(t){var e=this;this.dialogVisible=!0;var a={id:t};d["a"].addpower().then((function(t){e.seldata=t.data})),d["a"].getpowid(a).then((function(t){e.addsonseldata=t.data.lists,e.addsonselvalue=t.data.info.pid,e.selvalue=t.data.info.id}))},addsondialog:function(){var t=this,e={sort:this.addsonpowpx,status:this.addsonpowstatu,name:this.addsonpowaps,icon:this.addsonpowicon,title:this.addsonpowlab,pid:this.addsonselvalue,id:this.addsonid,url:this.addsonpowweb};d["a"].savepower(e).then((function(e){20010==e.code&&(t.$message({message:e.msg,type:"success",duration:1e3}),t.$router.go(0))}))}},Object(s["a"])(i,"handleEdit",(function(t){var e=this;this.dialogedit=!0;var a={id:t};d["a"].getpowid(a).then((function(t){e.editseldata=t.data.lists,e.editselvalue=t.data.info.pid,e.editpowpx=t.data.info.sort,e.editpowstatu=t.data.info.status,e.editpowlab=t.data.info.title,e.editpowicon=t.data.info.icon,e.editpowaps=t.data.info.name,e.editid=t.data.info.id,e.editpowweb=t.data.info.url}))})),Object(s["a"])(i,"editdialog",(function(){var t=this,e={sort:this.editpowpx,status:this.editpowstatu,name:this.editpowaps,icon:this.editpowicon,title:this.editpowlab,pid:this.editselvalue,id:this.editid,url:this.editpowweb};d["a"].editsavepower(e).then((function(e){20010==e.code&&(t.$message({message:"保存成功！",type:"success",duration:2e3}),setTimeout((function(){t.reload()}),1e3))}))})),Object(s["a"])(i,"delpow",(function(t){var e=this;this.$confirm("此操作将删除该权限, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var a={id:t};d["a"].delpow(a).then((function(t){e.$message({type:"success",message:t.msg,duration:1500}),setTimeout((function(){e.$router.go(0)}),2e3)}))}))["catch"]((function(){e.$message({type:"info",message:"已取消操作",duration:1300})}))})),Object(s["a"])(i,"getRowClass",(function(t){var e=t.rowIndex;return 0==e?"background:#c2c5f6;color:#000":""})),i)},r=c,u=(a("289a"),a("2877")),p=Object(u["a"])(r,o,l,!1,null,"2fb2a47e",null);e["default"]=p.exports}}]);